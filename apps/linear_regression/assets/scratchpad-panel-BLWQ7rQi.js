import{c as ue,aw as xe,cM as ye,a as fe,cN as we,ax as Ne,u as ke,r as me,bA as Se,S as Ce,ay as ze,cO as u,az as Oe,cs as Ae,K as Ie,cP as Y,cQ as Le,T as Me,j as t,bV as Pe,cR as He,aC as Z,a$ as Q,a1 as Re,cS as _e,cT as Te,cU as Ve,__tla as De}from"./index-OpoHOcgb.js";import{H as Ee,d as qe,__tla as Be}from"./edit-page-B0alKLEO.js";import{d as Ue,e as Fe,__tla as Ke}from"./storage-IG-rjDe7.js";import{B as $e}from"./between-horizontal-start-BEKGVTc5.js";import"./links-BOmzv2oh.js";import"./_createAggregator-BAX_Wz_h.js";import"./_baseEach-BuWTJD3c.js";import{__tla as Je}from"./loro_wasm_bg-C1ks32Vm.js";import"./index-BwNss6Zk.js";import"./index-Q4yGiShI.js";import"./index-BAcq0lP-.js";import"./index-DhKCIzzy.js";import"./index-DUdZ0vWn.js";import"./index-DfRVyeEB.js";import"./index-vHPYrOJD.js";import"./index-CeXYgFxw.js";import"./index-BX91Hoyk.js";import"./index-DW1JQbCa.js";import"./index-BhU4ksEG.js";import"./index-Bdrwq7aE.js";import"./index-DclUrN1F.js";import"./apl-CXdQSnD-.js";import"./asciiarmor-D5V0T9Cu.js";import"./asn1-DWPaVWf6.js";import"./brainfuck-CtZaYBKt.js";import"./cobol-stawOqaz.js";import"./clike-BgBwzOhw.js";import"./clojure-DiuoqK-z.js";import"./css-ZjFoif2m.js";import"./cmake-DXn5xaP-.js";import"./coffeescript-BTDxI-eT.js";import"./commonlisp-vq6DHwts.js";import"./cypher-gJDei3ni.js";import"./python-DD-Q2bae.js";import"./crystal-CRzZ78HM.js";import"./d-BShv7fp-.js";import"./diff-UJJ5BM9S.js";import"./dtd-DI9Herc-.js";import"./dylan-DkEP81N9.js";import"./ecl-DPFc0Uaf.js";import"./eiffel-DR5c0IrL.js";import"./elm-DompmV0j.js";import"./erlang-BuqgqA5h.js";import"./factor-CFXhaUWb.js";import"./simple-mode-C3vEBAcb.js";import"./forth-POgR1ypr.js";import"./fortran-DL7KluxX.js";import"./mllike-3c2dg9RT.js";import"./gas-bV0CklSb.js";import"./gherkin-B6X1vGSW.js";import"./groovy-DnIzCrpZ.js";import"./haskell-CLQs6EAM.js";import"./haxe-D25e-2l-.js";import"./idl-pcmmZuaN.js";import"./javascript-BpzJj0-u.js";import"./jinja2-DhgKlfW7.js";import"./julia-DjdwvFuI.js";import"./livescript-HO6ttBFx.js";import"./lua-8DXOpKDz.js";import"./mirc-DkvFAiy5.js";import"./mathematica-IIbmv7SK.js";import"./modelica-DSrSSXCg.js";import"./mumps-zvxmGV4l.js";import"./mbox-z_N2Mo3d.js";import"./nsis-BvKfQ9lQ.js";import"./ntriples-BSwWqoLa.js";import"./octave-C4hdQ5Hf.js";import"./oz-qQq7irPq.js";import"./pascal-CafrKXZF.js";import"./perl-tdMlh9QA.js";import"./pig-CwGJVRC4.js";import"./powershell-D1ly3AHC.js";import"./properties-_nPj978X.js";import"./protobuf-B4y9do6W.js";import"./pug-BTvK5tSS.js";import"./puppet-Bc-yJKzi.js";import"./q-B0kTJ4cI.js";import"./r-BA4EbLKE.js";import"./rpm-DI_rRufH.js";import"./ruby-CR-u2WLS.js";import"./sas-Bqaci40L.js";import"./scheme-qjP0V5Ag.js";import"./shell-BLav31RL.js";import"./sieve-r025o_jW.js";import"./smalltalk-C7J3IyEP.js";import"./sparql-BRLJFz69.js";import"./stylus-Bdo_Aemu.js";import"./swift-B_XXVlXX.js";import"./verilog-B4LBqg_1.js";import"./tcl-B2fODqDH.js";import"./textile-BuVhTOzU.js";import"./toml-wcPdHu67.js";import"./troff-Ce85hlLp.js";import"./ttcn-BxnYHtq8.js";import"./ttcn-cfg-CKJxb-l2.js";import"./turtle-BkSuIpt-.js";import"./webidl-CGwyPRYs.js";import"./vb-BHgjm0DN.js";import"./vbscript-Dawdd5GZ.js";import"./velocity-BdD_26Jv.js";import"./vhdl-CWWH2SUo.js";import"./xquery-CVDBqZPY.js";import"./yacas-I8QjZlxf.js";import"./z80-D8p3gKXp.js";import"./mscgen-B2igx18G.js";import"./index-Lx-n0Flv.js";import"./trash-CZJ3Cvh5.js";let ve,We=Promise.all([(()=>{try{return De}catch{}})(),(()=>{try{return Be}catch{}})(),(()=>{try{return Ke}catch{}})(),(()=>{try{return Je}catch{}})()]).then(async()=>{let le,ce,T,ne,pe,de,he;le=ue("eraser",[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]]),ce=ue("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),T=ye("marimo:scratchpadHistory:v1",[]),ne=xe(!1),pe=xe(null,(e,i,s)=>{if(!(s=s.trim()))return;const m=e(T),x=[s,...m.filter(M=>M!==s)].slice(0,15);i(T,x)}),de={hide_code:!1,disabled:!1},he=()=>{const e=fe.c(84),i=we(),[s]=Ne(),{theme:m}=ke(),x=me.useRef(null),M=Se(),{createNewCell:G,updateCellCode:f}=Ce(),{sendRunScratchpad:_}=ze(),a=i.cellRuntime[u],ee=a==null?void 0:a.output,v=a==null?void 0:a.status,te=a==null?void 0:a.consoleOutputs,oe=i.cellData[u],r=(oe==null?void 0:oe.code)??"",re=Oe(pe),[o,l]=Ae(ne),g=Ie(T);let V;e[0]!==re||e[1]!==r||e[2]!==_?(V=()=>{_({code:r}),re(r)},e[0]=re,e[1]=r,e[2]=_,e[3]=V):V=e[3];const j=Y(V);let D;e[4]!==r||e[5]!==G||e[6]!==M?(D=()=>{r.trim()&&G({code:r,before:!1,cellId:M??"__end__"})},e[4]=r,e[5]=G,e[6]=M,e[7]=D):D=e[7];const P=Y(D);let E;e[8]!==_||e[9]!==f?(E=()=>{f({cellId:u,code:"",formattingChange:!1}),_({code:""});const d=x.current;d&&d.dispatch({changes:{from:0,to:d.state.doc.length,insert:""}})},e[8]=_,e[9]=f,e[10]=E):E=e[10];const H=Y(E);let q;e[11]!==l||e[12]!==f?(q=d=>{l(!1),f({cellId:u,code:d,formattingChange:!1});const h=x.current;h&&h.dispatch({changes:{from:0,to:h.state.doc.length,insert:d}})},e[11]=l,e[12]=f,e[13]=q):q=e[13];const R=Y(q),[ie,ge]=me.useState();let b,y,w,N,c,n,p,k,B;if(e[14]!==r||e[15]!==te||e[16]!==H||e[17]!==P||e[18]!==j||e[19]!==R||e[20]!==g||e[21]!==o||e[22]!==ie||e[23]!==ee||e[24]!==l||e[25]!==v||e[26]!==m||e[27]!==s){const d=()=>t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"overflow-auto shrink-0 max-h-[40%]",children:t.jsx(qe,{theme:m,showPlaceholder:!1,id:u,code:r,config:de,status:"idle",serializedEditorState:null,runCell:j,userConfig:s,editorViewRef:x,setEditorView:X=>{x.current=X},hidden:!1,showHiddenCode:_e.NOOP,languageAdapter:ie,setLanguageAdapter:ge})}),t.jsx("div",{className:"flex-1 overflow-auto shrink-0",children:t.jsx(Te,{allowExpand:!1,output:ee,className:"output-area",cellId:u,stale:!1,loading:!1})}),t.jsx("div",{className:"overflow-auto shrink-0 max-h-[35%]",children:t.jsx(Fe,{consoleOutputs:te,className:"overflow-auto",stale:!1,cellName:Ve,onSubmitDebugger:_e.NOOP,cellId:u,debuggerActive:!1})})]});let h;e[35]!==R||e[36]!==g||e[37]!==o||e[38]!==m?(h=()=>o?t.jsx("div",{className:"absolute inset-0 z-100 bg-background p-3 border-none overflow-auto",children:t.jsx("div",{className:"overflow-auto flex flex-col gap-3",children:g.map((X,be)=>t.jsx("div",{className:"border rounded-md hover:shadow-sm cursor-pointer hover:border-input overflow-hidden",onClick:()=>R(X),children:t.jsx(me.Suspense,{children:t.jsx(Pe,{language:"python",theme:m,basicSetup:{highlightActiveLine:!1,highlightActiveLineGutter:!1},value:X.trim(),editable:!1,readOnly:!0})})},be))})}):null,e[35]=R,e[36]=g,e[37]=o,e[38]=m,e[39]=h):h=e[39];const je=h;let U,F,S,K,C,$,z,O,J;N="flex flex-col h-full overflow-hidden divide-y",e[40]===Symbol.for("react.memo_cache_sentinel")?(c=Le.create(u),n=t.jsx("p",{className:"mx-2 my-2 text-muted-foreground text-sm",children:"Use this scratchpad cell to experiment with code without restrictions on variable names. Scratchpad code is ephemeral: variables defined in the scratchpad aren't saved to notebook memory, and the code is not saved in the notebook file."}),e[40]=c,e[41]=n):(c=e[40],n=e[41]),e[42]===Symbol.for("react.memo_cache_sentinel")?(U=He("cell.run"),e[42]=U):U=e[42],e[43]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(Ue,{color:"var(--grass-11)",size:16}),e[43]=F):F=e[43],e[44]!==j||e[45]!==o?(S=t.jsx(Z,{content:U,children:t.jsx(Q,{"data-testid":"scratchpad-run-button",onClick:j,disabled:o,variant:"text",size:"xs",children:F})}),e[44]=j,e[45]=o,e[46]=S):S=e[46],e[47]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(le,{size:16}),e[47]=K):K=e[47],e[48]!==H||e[49]!==o?(C=t.jsx(Z,{content:"Clear code and outputs",children:t.jsx(Q,{disabled:o,size:"xs",variant:"text",onClick:H,children:K})}),e[48]=H,e[49]=o,e[50]=C):C=e[50],e[51]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx($e,{size:16}),e[51]=$):$=e[51],e[52]!==P||e[53]!==o?(z=t.jsx(Ee,{children:t.jsx(Z,{content:"Insert code",children:t.jsx(Q,{disabled:o,size:"xs",variant:"text",onClick:P,children:$})})}),e[52]=P,e[53]=o,e[54]=z):z=e[54],e[55]!==v?(O=(v==="running"||v==="queued")&&t.jsx(Re,{className:"inline",size:"small"}),e[55]=v,e[56]=O):O=e[56],e[57]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("div",{className:"flex-1"}),e[57]=J):J=e[57];const ae=o&&"bg-(--sky-3) rounded-none";let A,I;e[58]!==ae?(A=Me(ae),e[58]=ae,e[59]=A):A=e[59],e[60]!==o||e[61]!==l?(I=()=>l(!o),e[60]=o,e[61]=l,e[62]=I):I=e[62];const se=g.length===0;let W,L;e[63]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(ce,{size:16}),e[63]=W):W=e[63],e[64]!==A||e[65]!==I||e[66]!==se?(L=t.jsx(Z,{content:"Toggle history",children:t.jsx(Q,{size:"xs",variant:"text",className:A,onClick:I,disabled:se,children:W})}),e[64]=A,e[65]=I,e[66]=se,e[67]=L):L=e[67],e[68]!==S||e[69]!==C||e[70]!==z||e[71]!==O||e[72]!==L?(p=t.jsxs("div",{className:"flex items-center shrink-0",children:[S,C,z,O,J,L]}),e[68]=S,e[69]=C,e[70]=z,e[71]=O,e[72]=L,e[73]=p):p=e[73],y="flex-1 divide-y relative overflow-hidden flex flex-col",w=d(),b=je(),e[14]=r,e[15]=te,e[16]=H,e[17]=P,e[18]=j,e[19]=R,e[20]=g,e[21]=o,e[22]=ie,e[23]=ee,e[24]=l,e[25]=v,e[26]=m,e[27]=s,e[28]=b,e[29]=y,e[30]=w,e[31]=N,e[32]=c,e[33]=n,e[34]=p}else b=e[28],y=e[29],w=e[30],N=e[31],c=e[32],n=e[33],p=e[34];return e[74]!==b||e[75]!==y||e[76]!==w?(k=t.jsxs("div",{className:y,children:[w,b]}),e[74]=b,e[75]=y,e[76]=w,e[77]=k):k=e[77],e[78]!==k||e[79]!==N||e[80]!==c||e[81]!==n||e[82]!==p?(B=t.jsxs("div",{className:N,id:c,children:[n,p,k]}),e[78]=k,e[79]=N,e[80]=c,e[81]=n,e[82]=p,e[83]=B):B=e[83],B},ve=()=>{const e=fe.c(1);let i;return e[0]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(he,{}),e[0]=i):i=e[0],i}});export{We as __tla,ve as default};
