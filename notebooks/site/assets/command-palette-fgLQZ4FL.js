import{a as nt,r as Mt,cq as Nt,ax as Rt,cr as $t,ay as It,cs as Pt,ct as Ut,K as St,cu as Vt,cv as Kt,cw as Ot,cx as Tt,j as a,cy as vt,cz as Xt,cA as Jt,cB as Lt,cC as Qt,cD as Wt,bE as Ht,cE as At,cF as Dt,bn as Yt,bX as Zt,__tla as te}from"./index-OpoHOcgb.js";import{c as ee,u as oe,b as ie,__tla as le}from"./edit-page-B0alKLEO.js";import{g as re}from"./links-BOmzv2oh.js";import{__tla as ae}from"./storage-IG-rjDe7.js";import"./index-BwNss6Zk.js";import"./index-Q4yGiShI.js";import"./index-BAcq0lP-.js";import"./index-DhKCIzzy.js";import"./index-DUdZ0vWn.js";import"./index-DfRVyeEB.js";import"./index-vHPYrOJD.js";import"./index-CeXYgFxw.js";import"./index-BX91Hoyk.js";import"./index-DW1JQbCa.js";import"./index-BhU4ksEG.js";import"./index-Bdrwq7aE.js";import"./index-DclUrN1F.js";import"./apl-CXdQSnD-.js";import"./asciiarmor-D5V0T9Cu.js";import"./asn1-DWPaVWf6.js";import"./brainfuck-CtZaYBKt.js";import"./cobol-stawOqaz.js";import"./clike-BgBwzOhw.js";import"./clojure-DiuoqK-z.js";import"./css-ZjFoif2m.js";import"./cmake-DXn5xaP-.js";import"./coffeescript-BTDxI-eT.js";import"./commonlisp-vq6DHwts.js";import"./cypher-gJDei3ni.js";import"./python-DD-Q2bae.js";import"./crystal-CRzZ78HM.js";import"./d-BShv7fp-.js";import"./diff-UJJ5BM9S.js";import"./dtd-DI9Herc-.js";import"./dylan-DkEP81N9.js";import"./ecl-DPFc0Uaf.js";import"./eiffel-DR5c0IrL.js";import"./elm-DompmV0j.js";import"./erlang-BuqgqA5h.js";import"./factor-CFXhaUWb.js";import"./simple-mode-C3vEBAcb.js";import"./forth-POgR1ypr.js";import"./fortran-DL7KluxX.js";import"./mllike-3c2dg9RT.js";import"./gas-bV0CklSb.js";import"./gherkin-B6X1vGSW.js";import"./groovy-DnIzCrpZ.js";import"./haskell-CLQs6EAM.js";import"./haxe-D25e-2l-.js";import"./idl-pcmmZuaN.js";import"./javascript-BpzJj0-u.js";import"./jinja2-DhgKlfW7.js";import"./julia-DjdwvFuI.js";import"./livescript-HO6ttBFx.js";import"./lua-8DXOpKDz.js";import"./mirc-DkvFAiy5.js";import"./mathematica-IIbmv7SK.js";import"./modelica-DSrSSXCg.js";import"./mumps-zvxmGV4l.js";import"./mbox-z_N2Mo3d.js";import"./nsis-BvKfQ9lQ.js";import"./ntriples-BSwWqoLa.js";import"./octave-C4hdQ5Hf.js";import"./oz-qQq7irPq.js";import"./pascal-CafrKXZF.js";import"./perl-tdMlh9QA.js";import"./pig-CwGJVRC4.js";import"./powershell-D1ly3AHC.js";import"./properties-_nPj978X.js";import"./protobuf-B4y9do6W.js";import"./pug-BTvK5tSS.js";import"./puppet-Bc-yJKzi.js";import"./q-B0kTJ4cI.js";import"./r-BA4EbLKE.js";import"./rpm-DI_rRufH.js";import"./ruby-CR-u2WLS.js";import"./sas-Bqaci40L.js";import"./scheme-qjP0V5Ag.js";import"./shell-BLav31RL.js";import"./sieve-r025o_jW.js";import"./smalltalk-C7J3IyEP.js";import"./sparql-BRLJFz69.js";import"./stylus-Bdo_Aemu.js";import"./swift-B_XXVlXX.js";import"./verilog-B4LBqg_1.js";import"./tcl-B2fODqDH.js";import"./textile-BuVhTOzU.js";import"./toml-wcPdHu67.js";import"./troff-Ce85hlLp.js";import"./ttcn-BxnYHtq8.js";import"./ttcn-cfg-CKJxb-l2.js";import"./turtle-BkSuIpt-.js";import"./webidl-CGwyPRYs.js";import"./vb-BHgjm0DN.js";import"./vbscript-Dawdd5GZ.js";import"./velocity-BdD_26Jv.js";import"./vhdl-CWWH2SUo.js";import"./xquery-CVDBqZPY.js";import"./yacas-I8QjZlxf.js";import"./z80-D8p3gKXp.js";import"./mscgen-B2igx18G.js";import"./index-Lx-n0Flv.js";import"./trash-CZJ3Cvh5.js";import"./_createAggregator-BAX_Wz_h.js";import"./_baseEach-BuWTJD3c.js";import{__tla as ne}from"./loro_wasm_bg-C1ks32Vm.js";let Et,pe=Promise.all([(()=>{try{return te}catch{}})(),(()=>{try{return le}catch{}})(),(()=>{try{return ae}catch{}})(),(()=>{try{return ne}catch{}})()]).then(async()=>{function Ft(){const e=nt.c(7);let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=[],e[0]=m):m=e[0];const[r,x]=(function(s,h){const l=nt.c(11);let _;l[0]!==h?(_=new Nt(h),l[0]=h,l[1]=_):_=l[1];const u=_;let k;l[2]!==s||l[3]!==u?(k=()=>u.get(s),l[2]=s,l[3]=u,l[4]=k):k=l[4];const[b,C]=Mt.useState(k);let g;l[5]!==s||l[6]!==u?(g=w=>{C(w),u.set(s,w)},l[5]=s,l[6]=u,l[7]=g):g=l[7];const f=g;let y;return l[8]!==f||l[9]!==b?(y=[b,f],l[8]=f,l[9]=b,l[10]=y):y=l[10],y})("marimo:commands",m);let c,n;return e[1]!==r||e[2]!==x?(c=s=>{const h=(l=[s,...r],[...new Set(l)]);var l;x(h.slice(0,3))},e[1]=r,e[2]=x,e[3]=c):c=e[3],e[4]!==r||e[5]!==c?(n={recentCommands:r,addRecentCommand:c},e[4]=r,e[5]=c,e[6]=n):n=e[6],n}function kt(e){return e.dropdown!==void 0}function P(e,m=""){return e.flatMap(r=>r.label?kt(r)?P(r.dropdown,`${m+r.label} > `):{...r,label:m+r.label}:[])}function qt(e){return!e.hidden}Et=()=>{const e=nt.c(37),[m,r]=Pt(ee),x=Ut(),c=St(Vt),n=St(Kt);let s;e[0]!==c?(s={cell:c},e[0]=c,e[1]=s):s=e[1];let h=oe(s).flat();h=P(h);const l=(function(){const t=nt.c(73),[o,j]=Rt(),[p,E]=$t(),{saveAppConfig:S,saveUserConfig:bt}=It();let O;t[0]!==bt||t[1]!==j?(O=async d=>{await bt({config:d}).then(()=>{j(d)})},t[0]=bt,t[1]=j,t[2]=O):O=t[2];const i=O;let T;t[3]!==S||t[4]!==E?(T=async d=>{await S({config:d}).then(()=>{E(d)})},t[3]=S,t[4]=E,t[5]=T):T=t[5];const I=T;let X;if(t[6]!==p||t[7]!==o||t[8]!==I||t[9]!==i){let d,J,L,Q,W;t[11]!==p?(d=at=>at!==p.width,t[11]=p,t[12]=d):d=t[12],t[13]!==p||t[14]!==I?(J=at=>({label:`App config > Set width=${at}`,handle:()=>{I({...p,width:at})}}),t[13]=p,t[14]=I,t[15]=J):J=t[15],t[16]!==o||t[17]!==i?(L={label:"Config > Set theme: dark",handle:()=>{i({...o,display:{...o.display,theme:"dark"}})}},t[16]=o,t[17]=i,t[18]=L):L=t[18],t[19]!==o||t[20]!==i?(Q={label:"Config > Set theme: light",handle:()=>{i({...o,display:{...o.display,theme:"light"}})}},t[19]=o,t[20]=i,t[21]=Q):Q=t[21],t[22]!==o||t[23]!==i?(W={label:"Config > Set theme: system",handle:()=>{i({...o,display:{...o.display,theme:"system"}})}},t[22]=o,t[23]=i,t[24]=W):W=t[24];const gt=o.keymap.preset==="vim";let F,Y;t[25]!==o||t[26]!==i?(F=()=>{i({...o,keymap:{...o.keymap,preset:"vim"}})},t[25]=o,t[26]=i,t[27]=F):F=t[27],t[28]!==gt||t[29]!==F?(Y={label:"Config > Switch keymap to VIM",hidden:gt,handle:F},t[28]=gt,t[29]=F,t[30]=Y):Y=t[30];const ft=o.keymap.preset==="default";let q,Z,z;t[31]!==o||t[32]!==i?(q=()=>{i({...o,keymap:{...o.keymap,preset:"default"}})},t[31]=o,t[32]=i,t[33]=q):q=t[33],t[34]!==ft||t[35]!==q?(Z={label:"Config > Switch keymap to default (current: VIM)",hidden:ft,handle:q},t[34]=ft,t[35]=q,t[36]=Z):Z=t[36],t[37]!==o||t[38]!==i?(z=()=>{i({...o,completion:{...o.completion,copilot:!1}})},t[37]=o,t[38]=i,t[39]=z):z=t[39];const yt=o.completion.copilot!=="github";let tt,B;t[40]!==z||t[41]!==yt?(tt={label:"Config > Disable GitHub Copilot",handle:z,hidden:yt},t[40]=z,t[41]=yt,t[42]=tt):tt=t[42],t[43]!==o||t[44]!==i?(B=()=>{i({...o,completion:{...o.completion,copilot:"github"}})},t[43]=o,t[44]=i,t[45]=B):B=t[45];const _t=o.completion.copilot==="github";let et;t[46]!==B||t[47]!==_t?(et={label:"Config > Enable GitHub Copilot",handle:B,hidden:_t},t[46]=B,t[47]=_t,t[48]=et):et=t[48];const Ct=!o.display.reference_highlighting;let G,ot,M,it;t[49]!==o||t[50]!==i?(G=()=>{i({...o,display:{...o.display,reference_highlighting:!1}})},t[49]=o,t[50]=i,t[51]=G):G=t[51],t[52]!==Ct||t[53]!==G?(ot={label:"Config > Disable reference highlighting",hidden:Ct,handle:G},t[52]=Ct,t[53]=G,t[54]=ot):ot=t[54],t[55]!==o||t[56]!==i?(M=()=>{i({...o,display:{...o.display,reference_highlighting:!0}})},t[55]=o,t[56]=i,t[57]=M):M=t[57],t[58]!==o.display.reference_highlighting||t[59]!==M?(it={label:"Config > Enable reference highlighting",hidden:o.display.reference_highlighting,handle:M},t[58]=o.display.reference_highlighting,t[59]=M,t[60]=it):it=t[60];const jt=o.display.cell_output==="above";let N,lt;t[61]!==o||t[62]!==i?(N=()=>{i({...o,display:{...o.display,cell_output:"above"}})},t[61]=o,t[62]=i,t[63]=N):N=t[63],t[64]!==jt||t[65]!==N?(lt={label:"Config > Set cell output area: above",hidden:jt,handle:N},t[64]=jt,t[65]=N,t[66]=lt):lt=t[66];const xt=o.display.cell_output==="below";let R,rt;t[67]!==o||t[68]!==i?(R=()=>{i({...o,display:{...o.display,cell_output:"below"}})},t[67]=o,t[68]=i,t[69]=R):R=t[69],t[70]!==xt||t[71]!==R?(rt={label:"Config > Set cell output area: below",hidden:xt,handle:R},t[70]=xt,t[71]=R,t[72]=rt):rt=t[72],X=[...re().filter(d).map(J),L,Q,W,Y,Z,tt,et,ot,it,lt,rt].filter(qt),t[6]=p,t[7]=o,t[8]=I,t[9]=i,t[10]=X}else X=t[10];return X})();let _=ie();_=[...P(_),...P(l)];const u=_.filter(zt),k=Ot.keyBy(u,Bt),{recentCommands:b,addRecentCommand:C}=Ft();let g;e[2]!==b?(g=new Set(b),e[2]=b,e[3]=g):g=e[3];const f=g;let y,w;e[4]!==n||e[5]!==r?(y=t=>{Wt(n.getHotkey("global.commandPalette").key)(t)&&(t.preventDefault(),r(Gt))},e[4]=n,e[5]=r,e[6]=y):y=e[6],Tt(document,"keydown",y),e[7]!==C||e[8]!==n||e[9]!==x||e[10]!==r?(w=(t,o)=>{const j=x[t];if(!j)return null;const p=n.getHotkey(t);return a.jsxs(Ht,{disabled:o.disabled,onSelect:()=>{C(t),r(!1),requestAnimationFrame(()=>{j()})},value:p.name,children:[a.jsxs("span",{children:[p.name,o.tooltip&&a.jsx("span",{className:"ml-2",children:o.tooltip})]}),a.jsx(At,{children:a.jsx(Dt,{shortcut:p.key})})]},t)},e[7]=C,e[8]=n,e[9]=x,e[10]=r,e[11]=w):w=e[11];const wt=w;let U;e[12]!==C||e[13]!==n||e[14]!==r?(U=t=>{const{label:o,handle:j,props:p,hotkey:E}=t,S=p===void 0?{}:p;return a.jsxs(Ht,{disabled:S.disabled,onSelect:()=>{C(o),r(!1),requestAnimationFrame(()=>{j()})},value:o,children:[a.jsxs("span",{children:[o,S.tooltip&&a.jsxs("span",{className:"ml-2",children:["(",S.tooltip,")"]})]}),E&&a.jsx(At,{children:a.jsx(Dt,{shortcut:n.getHotkey(E).key})})]},o)},e[12]=C,e[13]=n,e[14]=r,e[15]=U):U=e[15];const $=U,pt=Qt;let v;e[16]===Symbol.for("react.memo_cache_sentinel")?(v=a.jsx(Yt,{placeholder:"Type to search..."}),e[16]=v):v=e[16];const st=Lt;let H;e[17]===Symbol.for("react.memo_cache_sentinel")?(H=a.jsx(Zt,{children:"No results found."}),e[17]=H):H=e[17];const mt=b.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(vt,{heading:"Recently Used",children:b.map(t=>{const o=k[t];return Xt(t)?wt(t,{disabled:o==null?void 0:o.disabled,tooltip:o==null?void 0:o.tooltip}):o&&!kt(o)?$({label:o.label,handle:o.handleHeadless||o.handle,props:{disabled:o.disabled,tooltip:o.tooltip}}):null})}),a.jsx(Jt,{})]}),ct=vt,dt=n.iterate().map(t=>{if(f.has(t))return null;const o=k[t];return wt(t,{disabled:o==null?void 0:o.disabled,tooltip:o==null?void 0:o.tooltip})}),ht=u.map(t=>f.has(t.label)?null:$({label:t.label,handle:t.handleHeadless||t.handle,props:{disabled:t.disabled,tooltip:t.tooltip}}));let V;e[18]!==f||e[19]!==$?(V=t=>f.has(t.label)?null:$({label:`Cell > ${t.label}`,handle:t.handleHeadless||t.handle,props:{disabled:t.disabled,tooltip:t.tooltip}}),e[18]=f,e[19]=$,e[20]=V):V=e[20];const ut=h.map(V);let A,D,K;return e[21]!==ct||e[22]!==ht||e[23]!==ut||e[24]!==dt?(A=a.jsxs(ct,{heading:"Commands",children:[dt,ht,ut]}),e[21]=ct,e[22]=ht,e[23]=ut,e[24]=dt,e[25]=A):A=e[25],e[26]!==st||e[27]!==A||e[28]!==H||e[29]!==mt?(D=a.jsxs(st,{children:[H,mt,A]}),e[26]=st,e[27]=A,e[28]=H,e[29]=mt,e[30]=D):D=e[30],e[31]!==pt||e[32]!==m||e[33]!==r||e[34]!==D||e[35]!==v?(K=a.jsxs(pt,{open:m,onOpenChange:r,children:[v,D]}),e[31]=pt,e[32]=m,e[33]=r,e[34]=D,e[35]=v,e[36]=K):K=e[36],K};function zt(e){return!e.hotkey}function Bt(e){return e.label}function Gt(e){return!e}});export{pe as __tla,Et as default};
